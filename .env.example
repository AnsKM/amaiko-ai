# ==============================================================================
# AMAIKO AI - Environment Variables Template
# ==============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ==============================================================================
# AZURE CONFIGURATION
# ==============================================================================
# Azure Entra ID (formerly Azure AD) Application Registration
# Instructions: https://portal.azure.com -> Microsoft Entra ID -> App Registrations
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT_ID=

# ==============================================================================
# MICROSOFT BOT FRAMEWORK
# ==============================================================================
# Bot Framework credentials from Azure Bot Service
# Instructions: https://portal.azure.com -> Bot Services
MICROSOFT_APP_ID=
MICROSOFT_APP_PASSWORD=
MICROSOFT_APP_TYPE=MultiTenant

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# PostgreSQL 18 connection string
# Format: postgresql://username:password@host:port/database
# Production: Use Azure Database for PostgreSQL or AWS RDS
DATABASE_URL=postgresql://postgres:password@localhost:5434/amaiko
DATABASE_HOST=localhost
DATABASE_PORT=5434
DATABASE_USER=postgres
DATABASE_PASSWORD=password
DATABASE_NAME=amaiko

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
# Redis cache and session store
# Production: Use Azure Cache for Redis or AWS ElastiCache
REDIS_URL=redis://:redis-strong-password-change-me@localhost:6380
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=redis-strong-password-change-me

# ==============================================================================
# LETTA (FORMERLY MEMGPT) CONFIGURATION
# ==============================================================================
# Letta AI Framework for stateful agents
# Instructions: https://docs.letta.com/server/deployment
LETTA_BASE_URL=http://localhost:8285
LETTA_API_KEY=

# ==============================================================================
# OPENAI & AZURE OPENAI CONFIGURATION
# ==============================================================================
# OpenAI API for embeddings and fallback
OPENAI_API_KEY=

# Azure OpenAI Service for GPT-5
# Instructions: https://portal.azure.com -> Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-5
AZURE_OPENAI_API_VERSION=2024-08-01-preview

# Default model configuration
DEFAULT_LLM_MODEL=azure/gpt-5
DEFAULT_EMBEDDING_MODEL=text-embedding-3-small

# ==============================================================================
# CHROMADB CONFIGURATION
# ==============================================================================
# Vector database for knowledge base
# Production: Use persistent volume or cloud-hosted ChromaDB
CHROMA_URL=http://localhost:8002
CHROMA_HOST=localhost
CHROMA_PORT=8002

# ==============================================================================
# CRM INTEGRATIONS
# ==============================================================================
# Microsoft Dynamics 365
DYNAMICS_RESOURCE=https://your-org.crm.dynamics.com
DYNAMICS_CLIENT_ID=
DYNAMICS_CLIENT_SECRET=
DYNAMICS_TENANT_ID=

# Salesforce
SALESFORCE_CLIENT_ID=
SALESFORCE_CLIENT_SECRET=
SALESFORCE_INSTANCE_URL=https://your-org.salesforce.com
SALESFORCE_API_VERSION=v59.0

# HubSpot
HUBSPOT_API_KEY=
HUBSPOT_CLIENT_ID=
HUBSPOT_CLIENT_SECRET=
HUBSPOT_REDIRECT_URI=

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
# Node.js environment
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# API Configuration
API_PREFIX=/api
API_VERSION=v1

# CORS Configuration
CORS_ORIGIN=http://localhost:8200,https://your-domain.com
CORS_CREDENTIALS=true

# ==============================================================================
# AUTHENTICATION & SECURITY
# ==============================================================================
# JWT configuration for internal auth
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=7d

# Session configuration
SESSION_SECRET=your-super-secret-session-key-change-this-in-production
SESSION_MAX_AGE=604800000

# ==============================================================================
# MICROSOFT GRAPH API SCOPES
# ==============================================================================
# Default scopes for Graph API access (space-separated)
GRAPH_SCOPES=https://graph.microsoft.com/Mail.Read https://graph.microsoft.com/Mail.Send https://graph.microsoft.com/Calendars.ReadWrite https://graph.microsoft.com/Files.Read.All https://graph.microsoft.com/User.Read https://graph.microsoft.com/People.Read

# ==============================================================================
# LOGGING & MONITORING
# ==============================================================================
# Log level: error, warn, info, debug, verbose
LOG_LEVEL=info

# Sentry (error tracking)
SENTRY_DSN=

# Application Insights (Azure monitoring)
APPINSIGHTS_INSTRUMENTATIONKEY=

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
# Next.js public environment variables (exposed to browser)
NEXT_PUBLIC_API_URL=http://localhost:8100
NEXT_PUBLIC_LETTA_URL=http://localhost:8285
NEXT_PUBLIC_APP_NAME=Amaiko AI Assistant
NEXT_PUBLIC_ENVIRONMENT=development

# ==============================================================================
# TEAMS APP CONFIGURATION
# ==============================================================================
# Microsoft Teams app settings
TEAMS_APP_ID=
TEAMS_APP_DOMAIN=your-domain.com
TEAMS_APP_BASE_URL=https://your-domain.com

# ==============================================================================
# WEBHOOK & CALLBACK URLs
# ==============================================================================
# OAuth redirect URIs
AUTH_REDIRECT_URI=http://localhost:8100/auth/callback
BOT_MESSAGING_ENDPOINT=https://your-domain.com/api/messages

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# Rate limit configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# FILE STORAGE
# ==============================================================================
# Azure Blob Storage or AWS S3 for file uploads
STORAGE_TYPE=azure
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_ACCOUNT_KEY=
AZURE_STORAGE_CONTAINER_NAME=

# ==============================================================================
# QUEUE & BACKGROUND JOBS
# ==============================================================================
# Bull queue configuration (uses Redis)
BULL_QUEUE_NAME=amaiko-jobs
BULL_QUEUE_PREFIX=bull

# ==============================================================================
# TESTING CONFIGURATION
# ==============================================================================
# Test environment variables
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5434/amaiko_test
TEST_REDIS_URL=redis://:redis-strong-password-change-me@localhost:6380/1

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Enable/disable features
ENABLE_MULTI_AGENT=true
ENABLE_CRM_INTEGRATIONS=true
ENABLE_WORKFLOW_ORCHESTRATION=true
ENABLE_KNOWLEDGE_BASE=true

# ==============================================================================
# ADVANCED CONFIGURATION
# ==============================================================================
# Agent memory configuration
AGENT_MAX_MEMORY_BLOCKS=10
AGENT_MEMORY_REFRESH_INTERVAL=3600000

# Knowledge base configuration
VECTOR_STORE_SIMILARITY_THRESHOLD=0.7
VECTOR_STORE_MAX_RESULTS=10

# Workflow orchestration
WORKFLOW_MAX_EXECUTION_TIME=300000
WORKFLOW_RETRY_ATTEMPTS=3

# ==============================================================================
# PRODUCTION RECOMMENDATIONS
# ==============================================================================
# 1. Use Azure Key Vault or AWS Secrets Manager for secrets
# 2. Enable Azure AD Managed Identity for service-to-service auth
# 3. Use Azure Application Gateway or AWS ALB for load balancing
# 4. Enable Azure Monitor or CloudWatch for observability
# 5. Implement proper secret rotation policies
# 6. Use environment-specific configurations
# 7. Enable SSL/TLS for all connections
# 8. Implement proper backup and disaster recovery
# ==============================================================================
